<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OverType - Keyboard Shortcuts Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      background: #f5f5f5;
    }
    
    h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    
    .subtitle {
      color: #666;
      margin-bottom: 30px;
    }
    
    .container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 40px;
    }
    
    .editor-container {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .editor-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #333;
    }
    
    .editor-wrapper {
      height: 400px;
      border: 1px solid #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
    }
    
    .shortcuts-guide {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .shortcuts-guide h2 {
      font-size: 20px;
      margin-bottom: 15px;
    }
    
    .shortcut-list {
      list-style: none;
      padding: 0;
    }
    
    .shortcut-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .shortcut-item:last-child {
      border-bottom: none;
    }
    
    .shortcut-key {
      font-family: 'SF Mono', Monaco, monospace;
      background: #f0f0f0;
      padding: 3px 8px;
      border-radius: 3px;
      font-size: 13px;
    }
    
    .shortcut-desc {
      color: #666;
    }
    
    .test-instructions {
      background: #fff3cd;
      border: 1px solid #ffc107;
      border-radius: 4px;
      padding: 15px;
      margin-bottom: 20px;
    }
    
    .test-instructions h3 {
      margin-top: 0;
      color: #856404;
    }
    
    .test-instructions ol {
      margin-bottom: 0;
      padding-left: 20px;
    }
    
    .test-instructions li {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>OverType Keyboard Shortcuts Test</h1>
  <p class="subtitle">Test keyboard shortcuts with selection preservation</p>
  
  <div class="test-instructions">
    <h3>üß™ Test Instructions</h3>
    <ol>
      <li>Type some text in the editor below</li>
      <li>Select text and use keyboard shortcuts</li>
      <li>Notice how the text stays selected after formatting!</li>
      <li>Try applying multiple formats to the same selection</li>
      <li>Test toggling formats on and off</li>
    </ol>
  </div>
  
  <div class="container">
    <div class="editor-container">
      <div class="editor-title">Editor with Toolbar & Shortcuts</div>
      <div id="editor" class="editor-wrapper"></div>
    </div>
    
    <div class="editor-container">
      <div class="editor-title">Editor with Shortcuts Only</div>
      <div id="editor-no-toolbar" class="editor-wrapper"></div>
    </div>
  </div>
  
  <div class="shortcuts-guide">
    <h2>‚å®Ô∏è Keyboard Shortcuts</h2>
    <ul class="shortcut-list">
      <li class="shortcut-item">
        <span class="shortcut-key">Cmd/Ctrl + B</span>
        <span class="shortcut-desc">Toggle bold</span>
      </li>
      <li class="shortcut-item">
        <span class="shortcut-key">Cmd/Ctrl + I</span>
        <span class="shortcut-desc">Toggle italic</span>
      </li>
      <li class="shortcut-item">
        <span class="shortcut-key">Cmd/Ctrl + K</span>
        <span class="shortcut-desc">Insert link</span>
      </li>
      <li class="shortcut-item">
        <span class="shortcut-key">Cmd/Ctrl + Shift + 7</span>
        <span class="shortcut-desc">Toggle numbered list</span>
      </li>
      <li class="shortcut-item">
        <span class="shortcut-key">Cmd/Ctrl + Shift + 8</span>
        <span class="shortcut-desc">Toggle bullet list</span>
      </li>
    </ul>
    
    <h3 style="margin-top: 30px;">‚ú® Selection Preservation</h3>
    <p style="color: #666; line-height: 1.6;">
      When you apply formatting via keyboard shortcuts, the selected text remains selected.
      This allows you to quickly apply multiple formats (e.g., bold then italic) without 
      having to reselect the text. This matches the behavior of the toolbar buttons!
    </p>
  </div>

  <!-- Load markdown-actions first (OverType depends on it for toolbar/shortcuts) -->
  <script src="markdown-actions-dist/markdown-actions.js"></script>
  
  <!-- Load OverType -->
  <script src="dist/overtype.js"></script>
  
  <script>
    // Sample content for testing
    const testContent = `# Test Keyboard Shortcuts

Select some text and try the keyboard shortcuts!

This is a paragraph where you can test **bold**, *italic*, and other formatting options.

Try selecting multiple lines
and applying list formatting
to see how it works

You can also test [links](https://example.com) and combine multiple formats like ***bold and italic***.`;

    // Initialize editors
    const OT = window.OverType;
    
    // Editor with toolbar
    const [editor1] = new OT('#editor', {
      value: testContent,
      toolbar: true,
      showStats: true
    });
    
    // Editor without toolbar (shortcuts only)
    const [editor2] = new OT('#editor-no-toolbar', {
      value: testContent,
      showStats: true
    });
    
    console.log('Editors initialized. Try the keyboard shortcuts!');
    console.log('Cmd/Ctrl+B for bold, Cmd/Ctrl+I for italic, etc.');
  </script>
</body>
</html>